[{"path":"https://frederickluser.github.io/ecic/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Frederic Kluser. Author, maintainer, copyright holder.","code":""},{"path":"https://frederickluser.github.io/ecic/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kluser F (2023). ecic: Extended Changes--Changes. R package version 0.0.2, https://frederickluser.github.io/ecic/.","code":"@Manual{,   title = {ecic: Extended Changes-in-Changes},   author = {Frederic Kluser},   year = {2023},   note = {R package version 0.0.2},   url = {https://frederickluser.github.io/ecic/}, }"},{"path":"https://frederickluser.github.io/ecic/index.html","id":"extended-changes-in-changes-ecic-","dir":"","previous_headings":"","what":"Extended Changes-in-Changes","title":"Extended Changes-in-Changes","text":"ecic estimates changes--changes model multiple periods cohorts suggested Athey Imbens (2006). Changes--changes generalization difference--differences approach, estimating treatment effect entire distribution instead averages. Athey Imbens (2006). show extend model multiple periods cohorts, analogously Two-Way Fixed-Effects model averages. package implements , calculating standard errors via bootstrap plotting results, aggregated event-study-style fashion.","code":""},{"path":"https://frederickluser.github.io/ecic/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Extended Changes-in-Changes","text":"can install ecic GitHub.","code":"# install.packages(\"remotes\") remotes::install_github(\"frederickluser/ecic\")"},{"path":[]},{"path":"https://frederickluser.github.io/ecic/index.html","id":"estimation","dir":"","previous_headings":"Basic Example","what":"Estimation","title":"Extended Changes-in-Changes","text":"Let’s look short example use package. First, load simulated sample data. , function ecic estimates changes-changes-model: modcontains every bootstrap run list 2--2 combinations ($name_runs) point-estimates. summary combines adds standard errors:","code":"library(ecic) data(dat, package = \"ecic\")  head(dat) #>  countyreal  first.treat   year time_to_treat   lemp #>       <int>        <int>  <int>         <int>  <dbl> #>           3        1980    1980             0   2.21 #>           3        1980    1981             1   3.33 #>           3        1980    1982             2   3.67 #>           5        1980    1980             0   2.77 #>           5        1980    1981             1   3.88 #>           5        1980    1982             2   3.80 # Estimate the model mod =   ecic(     yvar  = lemp,         # dependent variable     gvar  = first.treat,  # group indicator     tvar  = year,         # time indicator     ivar  = countyreal,   # unit ID     dat   = dat,          # dataset     boot  = \"weighted\",   # bootstrap proceduce (\"no\", \"normal\", or \"weighted\")     nReps = 10            # number of bootstrap runs     ) mod_res = summary(mod)   #> perc    coefs         se #>  0.1 1.215531 0.02670761 #>  0.2 1.324130 0.02310521 #>  0.3 1.458270 0.02105119 #>  0.4 1.590848 0.02128534 #>  0.5 1.747296 0.02098057 #>  0.6 1.921818 0.02135982 #>  0.7 2.124138 0.01802972 #>  0.8 2.372483 0.01799869 #>  0.9 2.787395 0.02241811"},{"path":"https://frederickluser.github.io/ecic/index.html","id":"plotting","dir":"","previous_headings":"Basic Example","what":"Plotting","title":"Extended Changes-in-Changes","text":"Finally, results can plotted using ecic_plot.","code":"ecic_plot(mod_res)"},{"path":"https://frederickluser.github.io/ecic/index.html","id":"event-study-example","dir":"","previous_headings":"","what":"Event-Study Example","title":"Extended Changes-in-Changes","text":"package also allows report event-study-style results effect. , simply add es = T argument estimation summary report effects every event period.","code":"# Estimate the model mod =   ecic(     yvar  = lemp,         # dependent variable     gvar  = first.treat,  # group indicator     tvar  = year,         # time indicator     ivar  = countyreal,   # unit ID     dat   = dat,          # dataset     es    = T,            # report an event study     boot  = \"weighted\",   # bootstrap proceduce (\"no\", \"normal\", or \"weighted\")     nReps = 10            # number of bootstrap runs     )  # report results for every event period mod_res = summary(mod)   #> [[1]] #> perc es     coefs         se #>  0.1  0 0.9175263 0.02924326 #>  0.2  0 0.9675225 0.02508082 #>  0.3  0 0.9959150 0.02116782 #>  0.4  0 1.0388312 0.02373263 #>  0.5  0 1.0992322 0.02558309 #>  0.6  0 1.1496203 0.03078493 #>  0.7  0 1.2049797 0.03654320 #>  0.8  0 1.2519476 0.03291178 #>  0.9  0 1.3616626 0.01765538  #> [[2]] #> perc es    coefs          se #>  0.1  1 2.393816 0.022273736 #>  0.2  1 2.386941 0.020039276 #>  0.3  1 2.423415 0.017145110 #>  0.4  1 2.452259 0.017982620 #>  0.5  1 2.484616 0.009979006 #>  0.6  1 2.525388 0.012816760 #>  0.7  1 2.575615 0.015196499 #>  0.8  1 2.630959 0.019570320 #>  0.9  1 2.730742 0.024796025  #> [...]"},{"path":"https://frederickluser.github.io/ecic/index.html","id":"plotting-1","dir":"","previous_headings":"Event-Study Example","what":"Plotting","title":"Extended Changes-in-Changes","text":"Event-study results can plotted every period individually option es_type = \"for_periods\".  Alternatively, es_type = \"for_quantiles\" generates one plot every quantile interest.","code":"ecic_plot(     mod_res,      periods_plot = c(0, 2),   # which periods you want to show     es_type = \"for_periods\",  # plots by period     ylim = c(.5, 4)           # same y-axis     ) ecic_plot(     mod_res,      periods_plot = c(.1, .5, .9), # which quantiles you want to show     es_type = \"for_quantiles\",    # plots by period     ylim = c(.5, 5)               # same y-axis     )"},{"path":[]},{"path":"https://frederickluser.github.io/ecic/index.html","id":"estimation-1","dir":"","previous_headings":"Under the hood","what":"Estimation","title":"Extended Changes-in-Changes","text":"every treated cohort, observe distribution potential outcome Y(1). case two groups / cohorts two periods, Athey Imbens (2006). show construct counterfactual Y(0). extends case multiple cohorts periods, every -yet-treated cohort valid comparison group. Since simply average Quantile Treatment Effects, must first store empirical CDF Y(1) Y(0) every two--two case. Note , therefore, estimate quantile treatment effect units treated first (pre-treatment period) last period (comparison cohort) skip small cohorts (default nMin = 40) need observations estimate quantile treatment effects compared average effect.","code":""},{"path":"https://frederickluser.github.io/ecic/index.html","id":"aggregation","dir":"","previous_headings":"Under the hood","what":"Aggregation","title":"Extended Changes-in-Changes","text":"Next, aggregate estimated CDFs get plug-estimates Y(1) Y(0), weighting cohort sizes. Technically, ecic generates grid dependent variable imputes empirical CDFs.","code":""},{"path":"https://frederickluser.github.io/ecic/index.html","id":"bootstrap","dir":"","previous_headings":"Under the hood","what":"Bootstrap","title":"Extended Changes-in-Changes","text":"calculate standard errors bootstrap. resample replacement entire dataset estimate Y(1) Y(0) nRep times (default nReps = 100). part can parallelized setting nCores > 1.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/dat.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated sample data — dat","title":"Simulated sample data — dat","text":"simulated sample panel data heterogeneous treatment effects across cohorts groups.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/dat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated sample data — dat","text":"","code":"dat"},{"path":"https://frederickluser.github.io/ecic/reference/dat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated sample data — dat","text":"simulated data frame 60,000 rows 5 columns: countyreal Unit ID first.treat Cohort year Period time_to_treat Period - Cohort lemp dependent variable","code":""},{"path":"https://frederickluser.github.io/ecic/reference/dat.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Simulated sample data — dat","text":"Simulation data","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","title":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","text":"Calculates changes--changes model Athey Imbens (2006) multiple periods cohorts.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","text":"","code":"ecic(   yvar = NULL,   gvar = NULL,   tvar = NULL,   ivar = NULL,   dat = NULL,   myProbs = seq(0.1, 0.9, 0.1),   nMin = 40,   boot = c(\"no\", \"normal\", \"weighted\"),   nReps = 1,   weight_n0 = c(\"n1\", \"n0\"),   weight_n1 = c(\"n1\", \"n0\"),   quant_algo = 1,   es = FALSE,   n_digits = NULL,   periods_es = NULL,   short_output = TRUE,   save_to_temp = FALSE,   print_details = FALSE,   progress_bar = c(\"progress\", \"void\", \"cli\"),   nCores = 1 )"},{"path":"https://frederickluser.github.io/ecic/reference/ecic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","text":"yvar Dependent variable. gvar Group variable. Can either string (e.g., \"first_treated\") expression (e.g., first_treated). staggered treatment setting, group variable typically denotes treatment cohort. tvar Time variable. Can string (e.g., \"year\") expression (e.g., year). ivar Index variable. Can string (e.g., \"country\") expression (e.g., country). needed check cohort sizes. dat data set. myProbs Quantiles quantile treatment effects calculated . nMin Minimum observations per groups. Small groups deleted. boot Bootstrap. Resampling done entire data set (\"normal\"), might weighted period-cohort size (\"weighted\"). nReps Number bootstrap replications. weight_n0 Weight aggregation CDFs control group. n1 uses cohort sizes (Alternative: n0). weight_n1 Weight aggregation CDFs treatment group. n1 uses cohort sizes (Alternative: n0). quant_algo Quantile algorithm (see Wikipedia definitions). es Event Study (Logical). TRUE, quantile treatment effect estimated period. n_digits Rounding dependent variable aggregating empirical CDFs reduces size imputation grid. can significantly reduce amount RAM used large data sets. periods_es Periods event study. short_output reports essential results. save_to_temp Logical. TRUE, results temporarily saved, reduces RAM needed. print_details Logical. TRUE, settings printed check beginning. progress_bar Whether progress bar printed (select \"void\" progress bar \"cli\" another type bar). nCores Number cores used.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","text":"ecic object.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","text":"Athey, Susan Guido W. Imbens (2006). Identification Inference Nonlinear Difference--Differences Models. doi:10.1111/j.1468-0262.2006.00668.x","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate a changes-in-changes model with multiple periods and cohorts — ecic","text":"","code":"# Example 1. Using the small mpdta data in the did package data(dat, package = \"ecic\") dat = dat[dat$first.treat <= 1983 & dat$countyreal <= 1000,] # small data for fast run  mod_res =    summary(   ecic(     yvar  = lemp,         # dependent variable     gvar  = first.treat,  # group indicator     tvar  = year,         # time indicator     ivar  = countyreal,   # unit ID     dat   = dat,        # dataset     boot  = \"normal\",     # bootstrap proceduce (\"no\", \"normal\", or \"weighted\")     nReps = 3             # number of bootstrap runs     )     ) #> Error in loadNamespace(x): there is no package called ‘progress’  # Basic Plot ecic_plot(mod_res) #> Error in ecic_plot(mod_res): object 'mod_res' not found  # \\donttest{ # Example 2. Load some larger sample data data(dat, package = \"ecic\")  # Estimate a basic model with the package's sample data mod_res =   summary(   ecic(     yvar  = lemp,         # dependent variable     gvar  = first.treat,  # group indicator     tvar  = year,         # time indicator     ivar  = countyreal,   # unit ID     dat   = dat,          # dataset     boot  = \"weighted\",   # bootstrap proceduce (\"no\", \"normal\", or \"weighted\")     nReps = 20            # number of bootstrap runs   )   ) #> Error in loadNamespace(x): there is no package called ‘progress’    # Basic Plot ecic_plot(mod_res) #> Error in ecic_plot(mod_res): object 'mod_res' not found  # Example 3. An Event-Study Example mod_res =   summary(   ecic(     es    = TRUE,         # aggregate for every event period     yvar  = lemp,         # dependent variable     gvar  = first.treat,  # group indicator     tvar  = year,         # time indicator     ivar  = countyreal,   # unit ID     dat   = dat,          # dataset     boot  = \"weighted\",   # bootstrap proceduce (\"no\", \"normal\", or \"weighted\")     nReps = 20            # number of bootstrap runs   )   ) #> Error in loadNamespace(x): there is no package called ‘progress’    # Plots ecic_plot(mod_res) # aggregated in one plot #> Error in ecic_plot(mod_res): object 'mod_res' not found ecic_plot(mod_res, es_type = \"for_quantiles\") # individually for every quantile #> Error in ecic_plot(mod_res, es_type = \"for_quantiles\"): object 'mod_res' not found ecic_plot(mod_res, es_type = \"for_periods\") # individually for every period #> Error in ecic_plot(mod_res, es_type = \"for_periods\"): object 'mod_res' not found # }"},{"path":"https://frederickluser.github.io/ecic/reference/ecic_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot an extended changes-in-changes model — ecic_plot","title":"Plot an extended changes-in-changes model — ecic_plot","text":"Plots results ecic model, either along percentiles event-study fashion.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot an extended changes-in-changes model — ecic_plot","text":"","code":"ecic_plot(   object,   es_type = c(\"aggregated\", \"for_quantiles\", \"for_periods\"),   perc_plot = NULL,   periods_plot = NULL,   xlab = NULL,   ylab = \"QTE \\n\",   ylim = NULL,   size = 2,   zero_line = FALSE,   legend_title = \"Percentiles\" )"},{"path":"https://frederickluser.github.io/ecic/reference/ecic_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot an extended changes-in-changes model — ecic_plot","text":"object ecic_table object. es_type event study estimated ecic, can choose style ES plot. \"aggregated\" puts everything one plot. \"for_quantiles\" generates one plot percentile. \"for_periods\" generates one plot period. perc_plot percentiles plot. periods_plot periods plot. xlab Alternative x-axis label ylab Alternative y-axis label. ylim Define y-axis limits. size Size point estimates. zero_line Add horizontal line zero. legend_title Change title legend.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/ecic_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot an extended changes-in-changes model — ecic_plot","text":"ggplot2 object.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/print.ecic.html","id":null,"dir":"Reference","previous_headings":"","what":"Print ecic objects — print.ecic","title":"Print ecic objects — print.ecic","text":"Prints ecic model making attributes invisible.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/print.ecic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print ecic objects — print.ecic","text":"","code":"# S3 method for ecic print(x, ...)"},{"path":"https://frederickluser.github.io/ecic/reference/print.ecic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print ecic objects — print.ecic","text":"x ecic object. ... arguments","code":""},{"path":"https://frederickluser.github.io/ecic/reference/print.ecic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print ecic objects — print.ecic","text":"ecic print object.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/summary.ecic.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary for a changes-in-changes regression with multiple periods and cohorts — summary.ecic","title":"Summary for a changes-in-changes regression with multiple periods and cohorts — summary.ecic","text":"Summarizes ecic object aggregating bootstrap runs. Works also event-study fashion.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/summary.ecic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary for a changes-in-changes regression with multiple periods and cohorts — summary.ecic","text":"","code":"# S3 method for ecic summary(object, ...)"},{"path":"https://frederickluser.github.io/ecic/reference/summary.ecic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary for a changes-in-changes regression with multiple periods and cohorts — summary.ecic","text":"object ecic object. ... arguments.","code":""},{"path":"https://frederickluser.github.io/ecic/reference/summary.ecic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary for a changes-in-changes regression with multiple periods and cohorts — summary.ecic","text":"ecic_table object.","code":""},{"path":[]},{"path":"https://frederickluser.github.io/ecic/news/index.html","id":"resubmission-to-cran-0-0-2","dir":"Changelog","previous_headings":"","what":"Resubmission to CRAN","title":"version 0.0.2","text":"Minor changes CRAN.","code":""},{"path":[]},{"path":"https://frederickluser.github.io/ecic/news/index.html","id":"newsmd-setup-0-0-0-9000","dir":"Changelog","previous_headings":"","what":"NEWS.md setup","title":"version 0.0.0.9000","text":"added NEWS.md creation newsmd","code":""}]
